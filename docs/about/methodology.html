---
layout: default
---
<h1>Methodology</h1>

<h2>Tests and Metric</h2>

<p>
  In this benchmark we measures the accuracy of the contact solvers and integrators in terms of realistic simulation.
  Assuming there is no modeling error, it is plausible to compare the numerical solution of simulation with analytical solution when the analytical solution is applicable.
  For an example, it is realatively easy to find an analytical solution of velocity and position of each object in <a href="../rolling/rolling.html">Rolling test</a> by solving simple dynamics equation.
  By doing this, we can investigate how the numerical solution of the simulator is close to dynamics model.
</p>

<p>
  However, it may be challenging to find analytical solution of position or velocity for complex systems.
  In these cases, we investigates if the numerical solution violates constraints or physics in quantitative manner.
  One candidate is measuring penetration error which should be zero in hard-contacts or checking the system preserves total energy or linear momentum that is crucial to realistic and stable simulation.
</p>

<p>
  In general, the numerical solution of physical quantity is rely on time-step and the number of iterations of iterative contact solvers.
  As the time-step decreases, the accuracy is improved and the speed of simulation is declined and as the number of the iteration is increased for iterative solvers For the iterative solvers, accuracy is improved and the simulation becomes slower.
  Therefore we considered speed-accuracy trade-off as it is proposed in <a href="#[1]">[1]</a>. In the format below, the better curve locates upper-right side than others:
</p>


<hr>
<h2>What is ERP and CFM?<sup><a href="#[2]">[2]</a></sup></h2>

<h3>ERP</h3>
<p>
    ERP stands for Error Reduction Parameter that fixes position error after one simulation step and RaiSim, ODE and Bullet have ERP.
    As ERP is set to non-zero value, simulation attempts to fix the position drift by applying additional force.
    This prevents inevitable position drift from contact solvers.
    For example, as ERP set to non-zero value, the penetration error is significantly reduced as the following figure:

    [figure]
</p>
<p>
    However, we set ERP to zero for most cases due to the following reasons:
<ul>
    <li>
      <p>
        Error correction algorithm is not based on physics and may lead to unrealistic simulation result [figure]
      </p>
    </li>
    <li>
        We focused on the numerical solution from constraint solver itself. Since error correcting is post-process, there's no means of using it in the benchmark tests.
    </li>
    <li>
        Since it forces to hold constraints by adding artificial force, the system does not preserves energy or momentum which leads to undesirable simulation result.
    </li>
</ul>
</p>

<h3>CFM</h3>
<p>
    CFM is the abbreviation of Constraint Force Mixing.
    If the CFM set to positive value, the hard-contact constraint is softened which means that the constraint is allowed to be violated.
    This helps simulation to be more stable but not causes unrealistic result such as penetration and position drift.
    Thus, in our benchmark tests, CFM value was always set to zero.
</p>

<hr>
<h2>Test Machine</h2>

<ul>
<li>Intel Core i7-7700HQ CPU @ 2.80 GHz processor</li>
<li>15.4 GiB memory</li>
<li>Ubuntu 16.04 LTS 64-bit</li>
</ul>


<hr>
<h2>References</h2>

<ul>
  <li><a href="" id="[1]">[1]</a></li>.
  <li><a href="" id="[2]">[2] http://bulletphysics.org/mediawiki-1.5.8/index.php/Definitions</a></li>
</ul>

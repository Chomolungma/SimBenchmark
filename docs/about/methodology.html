---
layout: default
---
<h1>Methodology</h1>

<h2>Tests and Metric</h2>

<p>
  We are focusing on velocity, position, energy and momentum drift of rigid body objects. Specifically, we investigates the accuracy of the contact solvers and integrators in the terms of position/velocity drift and momentum/energy conservation.
  For single rigid body object, we compared the simulation with analytical solutions when they are applicable. For an example, an analytical solution of Rolling test is obtained by solving Newton dynamics and the velocity error of simulation was computed.
  Besides, for more complex systems such as many objects or articulated robotic systems it is not possible to get analytical solution thus we investigates if the system preserve energy, and momentum since these quantities affect to stability of the simulation.
</p>

<p>
  The numerical error of constraint solvers and integrators are rely on time-step and the number of iterations. For the iterative solvers, accuracy is typically improved as the number of the iteration is increased. A numerical integrator of order n has error proportional to h<sup>n</sup>.
  Therefore we considered speed-accuracy trade-off as it is proposed in <a href="#[1]">[1]</a>. The better simulator is positioned in upper-right side of accuracy-speed plot.
</p>

<hr>
<h2>What is ERP and CFM?</h2>

<p>
    ERP stands for Error Reduction Parameter that fixes position error after one simulation step. RaiSim, ODE and Bullet supports ERP. As ERP is set to non-zero value, simulation attempts to fix the position drift by applying additional force. This prevents inevitable position drift from contact solvers. For example, as ERP set to non-zero value, the penetration error is significantly reduced as the following figure.
</p>
<p>
    However, we set ERP to zero for most cases due to the following reasons:

<ul>
    <li>Error correction algorithm is not based on physics and may lead to inaccurate simulation (plot1)</li>
    <li>In the most benchmark tests, we focused on the solution from contact solver. Since error correcting is post-process, there's no means of using it in the benchmark tests.</li>
</ul>
</p>

<p>
    CFM is the abbreviation of Constraint Force Mixing. If the CFM set to positive value, the hard-contact constraint is softened which means that the constraint is allowed to be violated in certain amount. This helps simulation to be more stable.
</p>

<p>
    In our benchmark tests, CFM value was always set to zero since we investigates hard-contact constraint violation of each simulators.
</p>

<p>http://bulletphysics.org/mediawiki-1.5.8/index.php/Definitions<p/>

<hr>
<h2>Test Machine</h2>

<ul>
<li>Intel Core i7-7700HQ CPU @ 2.80 GHz processor</li>
<li>15.4 GiB memory</li>
<li>Ubuntu 16.04 LTS 64-bit</li>
</ul>


<hr>
<h2>References</h2>

<ul>
  <li id="[1]">[1] Erez, Tom, Yuval Tassa, and Emanuel Todorov. "Simulation tools for model-based robotics: Comparison of bullet, havok, mujoco, ode and physx." Robotics and Automation (ICRA), 2015 IEEE International Conference on. IEEE, 2015.</li>.
</ul>
